/* ===== Contenido principal (respeta el sidebar) ===== */
.app-content {
    margin-left: var(--sb-w);
    transition: margin-left var(--transition);
    min-height: 100vh;
}

/* ===== Sidebar (desktop) ===== */
.app-sidebar {
    position: fixed;
    inset: 0 auto 0 0;
    width: var(--sb-w);
    background: var(--sb-bg);
    color: var(--sb-text);
    border-right: 1px solid var(--sb-border);
    z-index: var(--z-sidebar);
    display: flex;
    flex-direction: column;
    transform: translateX(0);
    transition: transform .25s ease, width var(--transition);
}

.sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .5rem;
    padding: .75rem 1rem;
    border-bottom: 1px solid var(--sb-border);
    min-height: 56px;
}

.brand {
    font-size: 1rem;
    letter-spacing: .2px;
}

/* Branding: alterna segun colapsado */
.brand-compact { display: none; }
body.sidebar-collapsed .brand-full { display: none; }
body.sidebar-collapsed .brand-compact { display: inline-block; }

.sidebar-toggle {
    background: transparent;
    border: 0;
    color: var(--sb-text);
    font-size: 1.1rem;
    cursor: pointer;
    padding: .35rem .5rem;
    border-radius: .6rem;
    line-height: 1;
}
.sidebar-toggle:hover { background: rgba(255, 255, 255, .06); }

.sidebar-nav { padding: .5rem; overflow-y: auto; }
.sidebar-nav ul { list-style: none; padding: 0; margin: 0; }
.sidebar-nav li { margin: .15rem 0; }

.sidebar-nav a {
    display: flex;
    align-items: center;
    gap: .75rem;
    padding: .6rem .75rem;
    color: var(--sb-text);
    text-decoration: none;
    border-radius: var(--radius);
    line-height: 1.2;
    white-space: nowrap;
}
.sidebar-nav a svg { flex: 0 0 18px; opacity: .9; }
.sidebar-nav a .link-label { overflow: hidden; text-overflow: ellipsis; }
.sidebar-nav a:hover { background: var(--sb-hover); }
.sidebar-nav a.active { background: rgba(255,255,255,.1); font-weight: 600; }

/* ===== Estado colapsado (desktop) ===== */
body.sidebar-collapsed .app-sidebar { width: var(--sb-w-collapsed); }
body.sidebar-collapsed .app-content  { margin-left: var(--sb-w-collapsed); }

body.sidebar-collapsed .sidebar-header {
    justify-content: center;
    padding: .5rem;
}

/* El bot贸n sigue visible y clickeable */
body.sidebar-collapsed .sidebar-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    margin: 0;
}

/* Links: solo iconos en colapsado */
body.sidebar-collapsed .sidebar-nav a { justify-content: center; padding: .6rem; }
body.sidebar-collapsed .sidebar-nav a .link-label { display: none; }

/* ===== M贸vil: off-canvas ===== */
@media (max-width: 991.98px) {
    .app-content { margin-left: 0; }
    .app-sidebar { transform: translateX(-100%); }
    body.sidebar-open .app-sidebar { transform: translateX(0); }

    .sidebar-backdrop{
        position: fixed; inset: 0;
        background: rgba(0,0,0,.35);
        opacity: 0; visibility: hidden;
        transition: opacity var(--transition);
        z-index: var(--z-backdrop);
    }
    body.sidebar-open .sidebar-backdrop{ opacity: 1; visibility: visible; }

    /* FAB (hamburguesa) siempre visible en m贸vil */
    .sidebar-fab{
        position: fixed; left: .75rem; top: .75rem;
        z-index: var(--z-fab);
        background: var(--sb-bg); color: var(--sb-text);
        border: 0; border-radius: .7rem;
        padding: .5rem .65rem; cursor: pointer;
        box-shadow: 0 6px 18px rgba(0,0,0,.25);
        display: inline-flex; align-items: center; justify-content: center;
    }
    body.sidebar-open .sidebar-fab { display: none; }

    /* En m贸vil, no hay colapsado (siempre ancho) */
    body.sidebar-collapsed .app-sidebar { width: var(--sb-w); }
}

/* Accesibilidad: reduce animaciones si el user lo pide */
@media (prefers-reduced-motion: reduce){
    .app-sidebar, .app-content, .sidebar-backdrop { transition: none !important; }
}
